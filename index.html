<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Women Rock & Metal Chart Chart</title>
    <script
      type="text/javascript"
      src="https://unpkg.com/vis-network/standalone/umd/vis-network.min.js"
    ></script>
    <style type="text/css">
      #mynetwork {
        width: 100%; height: 550px;
        border: 1px solid lightgray
      }
	   /* Estilos para el notice-box */
      #welcome-notice {
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        background: white;
        border: 2px solid #333;
        border-radius: 10px;
        padding: 20px;
        box-shadow: 0 4px 15px rgba(0,0,0,0.3);
        z-index: 1000;
        text-align: center;
        font-family: Arial, sans-serif;
        max-width: 400px;
      }
      
      #welcome-notice h2 {
        margin-top: 0;
        color: #333;
      }
      
      #welcome-notice p {
        margin-bottom: 20px;
        line-height: 1.5;
        color: #666;
      }
      
      #close-notice {
        background: #4CAF50;
        color: white;
        border: none;
        padding: 10px 20px;
        border-radius: 5px;
        cursor: pointer;
        font-size: 16px;
        font-weight: bold;
      }
      
      #close-notice:hover {
        background: #45a049;
      }
      
      /* Fondo oscuro detrás del notice-box */
      #overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0,0,0,0.5);
        z-index: 999;
      }
    </style>
  </head>
  <body>
   <!-- Overlay para fondo oscuro -->
    <div id="overlay"></div>
    
    <!-- Notice-box de bienvenida -->
    <div id="welcome-notice">
      <h2>¡Bienvenido/a!</h2>
      <p>Explora nuestro gráfico de conexiones de Rock & Metal. Haz clic en las conexiones para descubrir videos musicales relacionados.</p>
      <button id="close-notice">Disfruta</button>
    </div>

    <div id="mynetwork"></div>
    <script type="text/javascript">
      // Esperar a que el DOM esté completamente cargado
      document.addEventListener('DOMContentLoaded', function() {
        // Ocultar el notice-box cuando se hace clic en "Disfruta"
        document.getElementById('close-notice').addEventListener('click', function() {
          document.getElementById('welcome-notice').style.display = 'none';
          document.getElementById('overlay').style.display = 'none';
        });
      });

      // create an array with nodes ;
      var nodes = new vis.DataSet([
        { id: 1, 
		label: "Node 1", 
		shape: "circularImage", 
		image: "", 
		color: {"border": "hsl(0, 100%, 0%)"},
		font: {"color": "#000", "size": 16}
		},
        { id: 2, label: "Node 2", shape: "box" },
        { id: 3, label: "Node 3", shape: "box" },
        { id: 4, label: "Node 4", shape: "box" },
        { id: 5, label: "Node 5", shape: "box" },
      ]);

      // create an array with edges
      var edges = new vis.DataSet([
        { from: 1, to: 3, color: "red", label: "Conexion 1", id: "edge1"},
        { from: 1, to: 2, label: "Conexion 2", id: "edge2"},
        { from: 2, to: 4, label: "Conexion 3", id: "edge3" },
        { from: 2, to: 5, label: "Conexion 4", id: "edge4"},
        ]);
	// Definir las URLs para cada conexión
      var edgeUrls = {
        "edge1": "https://youtu.be/LVl0mcEu1r8?si=wRced2WtZlY2Lm_r",  // 
        "edge2": "https://youtu.be/wE8B_wuSsaY?si=pC4UQv5lL0H62mxT",  // 
        "edge3": "https://youtu.be/0jttv6pILMc?si=DL97paCOCQjuC-9Y",  // 
        "edge4": "https://youtu.be/YrEAN63NFgQ?si=xwZzPMFXJvkrSIsI"   // 
      };


      // create a network
      var container = document.getElementById("mynetwork");
      var data = {
        nodes: nodes,
        edges: edges,
      };
      var options = {};
      var network = new vis.Network(container, data, options);
	  
	   // Agregar el evento click para todas las conexiones
      network.on("click", function(params) {
        if (params.edges.length > 0) {
          var edgeId = params.edges[0];
          var url = edgeUrls[edgeId];
          if (url) {
            // Abrir el video en nueva pestaña
            window.open(url, "_blank");
          }
        }
      });
    </script>
  </body>
</html>
